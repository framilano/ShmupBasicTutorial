pico-8 cartridge // http://www.pico-8.com
version 41
__lua__

function _init()
	cls()
	--set mode to start
	change_mode("start")
end

function _update()
	if (mode == "start") update_start()
	if (mode == "game") update_game()
	if (mode == "over") update_over()
end

function _draw()
	if (mode == "start") draw_start()
	if (mode == "game") draw_game()
	if (mode == "over") draw_over()
end

function change_mode(new_mode)
	if (new_mode == "start") then
		init_start()
		mode = "start"
	end
	if (new_mode == "game") then 
		init_game()
		mode = "game"
	end
	if (new_mode == "over") then
		init_over()
		mode = "over"
	end
end

---game libraries---
#include libs/game/init.lua
#include libs/game/draw.lua
#include libs/game/update.lua

---game additional libraries---
#include libs/game/entities/enemies.lua
#include libs/game/entities/ship.lua
#include libs/game/ui.lua
#include libs/game/animations.lua

---start libraries---
#include libs/start/init.lua
#include libs/start/draw.lua
#include libs/start/update.lua

---gameover libraries---
#include libs/over/init.lua
#include libs/over/draw.lua
#include libs/over/update.lua

---utilities libraries---
#include libs/utils/text.lua
#include libs/utils/gameplay.lua

__gfx__
00000000000220000002200000022000000000000000000000000000000000000000000000000000088008800880088000770000000000000000000000000000
00000000009559000055900000095500000000000007700000000000000000000007700000000000878888888008800807007000000000000000000000000000
0070070000655600005568000086550000000000007cc700000770000007700000cccc0000000000878888888000000870055550000000000000000000000000
000770000865568008556800008655800000000000cccc00000cc00000077000000cc000000000008888888880000008a0555555000000000000000000000000
0007700088655688885568800886558800000000000cc000000cc000000cc0000000000000000000088888800800008000555505000000000000000000000000
00700700225c752222c7522002257c220000000000000000000cc000000cc0000000000000000000008888000080080000555505000000000000000000000000
00000000006556000055600000065500000000000000000000000000000cc0000000000000000000000880000008800000555555000000000000000000000000
00000000000880000008000000008000000000000000000000000000000000000000000000000000000000000000000000055550000000000000000000000000
00000000000000000003b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000bbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000000000000bb3bbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000000000003b33bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0002200000000000bbbb33b300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000000000000bbb3bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000bbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000b300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00333300003333000033330000333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03377330033773300337733003377330000000000000000000000000000000000000000000777770000000000000000000000000000000000000000000000000
0bbbbbb00bbbbbb00bbbbbb00bbbbbb0000000000000000000000000000000000009990007799977000000000000000000000000000000000000000000000000
3b7777b33b7777b33b7777b33b7777b3000000000000000000000000000080000099899007998997000000000000000000000000000000000000000000000000
3b1717b33b7117b33b7171b33b7117b3000000000000000000000000000888000098889007988897000000000000000000000000000000000000000000000000
0bbbbbb00bbbbbb00bbbbbb00bbbbbb0000000000000000000000000000080000099899007998997000000000000000000000000000000000000000000000000
000bb000000bb000000bb000000bb000000000000000000000000000000000000009990007799977000000000000000000000000000000000000000000000000
00033000000330000003300000033000000000000000000000000000000000000000000000777770000000000000000000000000000000000000000000000000
00022000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00211200002112000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02111120021111200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
21811812218118120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
21111112211111120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02100120021001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02211220022112200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
22000022022002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000055000000000005000000000500005000000000000000000000000000000000000000000000000000
00000000000000000000000088800000000088088888000000055555555550000000000555005500000000000000000000000000000000000000000000000000
00000009999000000000088999980000000888899998800050555559999555055558000005000550000000000000000000000000000000000000000000000000
0000999aaaa900000000999aaaa980000008999aaaa988000555995aaaa955500055550055000855000000000000000000000000000000000000000000000000
0009aaa77aaa90000089aaa77aaa98000089aaa77aaa98800555aa5775559550058955555aa00085000000000000000000000000000000000000000000000000
0009aa7777aa90000099aa7777aa99000099aa7777aa99800559aa77755599505599aa7777a00085000000000000000000000000000000000000000000000000
0009a777777aa9000089a777777aa9000889a777777aa9805559a7777775595058555557777a0005000000000000000000000000000000000000000000000000
0009a777777aa9000089a777777aa9800889a777777aa9805889a777777aa95058500055755a0005000000000000000000000000000000000000000000000000
0009aa77777aa9000009aa77777aa9000089aa77777aa9005589aa77777aa95555855000555aa955000000000000000000000000000000000000000000000000
00009aaaaaaa900000099aaaaaaa980000899aaaaaaa980055899a5aaa5598550589500055509850000000000000000000000000000000000000000000000000
0000999aaaa900000000999aaaa988000088999aaaa9880005889555aa5585550585500005555550000000000000000000000000000000000000000000000000
00000099999900000000099999998000000089999999800005558599995985500555009500950050000000000000000000000000000000000000000000000000
00000009900000000000088998000000000008899880000050558559955855000000088500800000000000000000000000000000000000000000000000000000
00000000000000000000008000000000000000888000000000055555555550005500558008550000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000050000555555500500005050055550000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000055500000000005500000000005000000000000000000000000000000000000000000000000000000
__sfx__
0001000038730337302f7302b73026730227201f7201b72018020170201602016020140200f0200d0200a0200302019000190001a0001c0001d0002000022000220002400026000290002c0002f0003300000000
00010000340202802023020210201f0201e0201e0201d0201c0201b0201a0201a0201a0201a0201a0201a0201b0201d0202002025020270200000000000000000000000000000000000000000000000000000000
000500001a7401d7402374027700277002570022700237002f7003370034700327000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000025550265502c5500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
